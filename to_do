implement some timeout mechanism for sockets
